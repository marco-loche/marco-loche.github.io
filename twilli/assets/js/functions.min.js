function viewport(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}}function toggle_main_menu(){if(viewport().width<=window.xs_screen_max){var e=$("#left-sidebar #mobile-menu-icon"),t=$("#left-sidebar #main-menu");t.is(":visible")?t.addClass("menu_closed_on_xs").removeClass("menu_opened_on_xs").slideUp("fast",function(){e.removeClass("active")}):t.addClass("menu_opened_on_xs").removeClass("menu_closed_on_xs").slideDown("fast",function(){e.addClass("active")})}}function main_menu_visiblity_on_resize(){var e=$("#left-sidebar #main-menu");viewport().width>window.xs_screen_max?e.hasClass("menu_closed_on_xs")&&e.show():(e.hasClass("menu_closed_on_xs")&&e.hide(),e.hasClass("menu_opened_on_xs")&&e.show())}function sections_content_vertical_position(){if(viewport().width>window.xs_screen_max){var e=$(window).height(),t=.8*e;$("#main-content .section-wrapper").each(function(){{var e=$(this).find(".content-wrapper"),i=e.height();$(this).hasClass("active")?!0:!1}i>t?e.css({position:"static"}):e.css({position:"absolute"})})}else $("#main-content .section-wrapper .content-wrapper").css({position:"static"})}function initialise_general_links_click_events(){$("a.link-scroll").click(function(e){var t=$(this).attr("href");if(void 0===t||""==t||"#"==t)return e.preventDefault?e.preventDefault():e.returnValue=!1,!1;var i=t.substr(0,1);if("#"==i){if(!($(t).length>0))return!1;$("#main-content").addClass("same_page_link_in_action");var a=$(t).offset().top;$("html, body").stop().animate({scrollTop:a},1500,"easeInOutCubic",function(){$("#main-content").removeClass("same_page_link_in_action"),update_active_sections_on_scroll()}),e.preventDefault?e.preventDefault():e.returnValue=!1}})}function initialise_main_menu_click_events(){$("#main-menu .menu-item > a").off("click"),$("#main-menu .menu-item > a").prop("onclick",null),$("#main-menu .menu-item > a").click(function(e){var t=$(this).attr("href"),i=t.substr(0,1),a=$(this).parent(".menu-item"),n=a.attr("id");if(a.hasClass("scroll")&&"#"==i){var s=void 0!==n&&""!=n?n:"";$("#main-content").addClass("same_page_link_in_action");var o=viewport().width>window.xs_screen_max?!0:!1;scroll_to_section(t,s,o),e.preventDefault?e.preventDefault():e.returnValue=!1}else if(void 0===t||""==t||"#"==t)return e.preventDefault?e.preventDefault():e.returnValue=!1,!1})}function scroll_to_section(e,t,i){if(void 0===e||""==e)return!1;var a=$("#main-content "+e+".section-wrapper");if(0==a.length||a.hasClass("active"))return!1;var n=a.offset().top;$("html, body").stop().animate({scrollTop:n},1500,"easeInOutCubic",function(){$("#main-content").removeClass("same_page_link_in_action")}),set_section_to_active(e,t,"",i)}function set_section_to_active(e,t,i,a){if(void 0!==e&&""!=e){var n=$("#main-content "+e+".section-wrapper");$("#main-menu .menu-item").removeClass("active"),$("#main-content .section-wrapper").removeClass("active");var s=void 0!=t&&""!=t?$("#main-menu #"+t+".menu-item"):"";if(""!=s&&0!=s.length)s.addClass("active");else{var o=e.substr(1);$("#main-menu #menu-item-"+o+".menu-item").addClass("active")}if(n.addClass("active"),toggle_top_icon_in_main_menu(),0!=a){var r=n.attr("data-custom-background-img"),c=void 0!==r&&""!=r?r:$("#outer-background-container").attr("data-default-background-img");if(void 0!==c&&""!=c){var l=1!=i?1500:550;$("#outer-background-container").backstretch(c,{fade:l})}}}}function get_all_section_wrappers_in_page(){var e=$("#main-content").find(".section-wrapper");return e}function update_active_sections_on_scroll(e,t){var i=void 0!==e&&""!=e?e:$("#main-content").find(".section-wrapper"),t=t!==t&&""!=t?t:.25*$(window).height(),a=$(document).scrollTop(),n=i.map(function(){var e=$(this).offset().top-t,i=$(this).height(),n=e+i;return a>e&&n>=a?this:void 0});if(void 0!==n&&""!=n){var s="#"+n.attr("id");n.hasClass("active")||set_section_to_active(s,"",!0)}}function toggle_top_icon_in_main_menu(){var e=$("#main-menu #menu-item-intro");e.hasClass("active")?e.css({opacity:0}).addClass("main-menu-top-icon-active"):e.css({opacity:.7}).removeClass("main-menu-top-icon-active")}function preload_section_backgrounds(){var e=get_all_section_wrappers_in_page();e.length>0&&e.each(function(){var e=$(this).attr("data-custom-background-img");if(void 0!==e&&""!=e){var t=new Image;t.src=e}})}function add_clear_items_to_fix_grid_items_different_heights_issue(){if($("#main-content .grid .grid-item").length>0){var e=$("#main-content .grid");if(e.hasClass("clearfix-for-2cols"))return e.find(".grid-item:nth-of-type(2n+2)").after('<article class="clearfix"></article>'),!1;if(e.hasClass("clearfix-for-3cols"))return e.find(".grid-item:nth-of-type(3n+3)").after('<article class="clearfix"></article>'),!1}}function effect_fade_out_inactive_grid_items(){$("#main-content .projects-grid.effect-fade-inactive").length>0&&$("#main-content .projects-grid.effect-fade-inactive").each(function(){var e=$(this);e.find(".grid-item .item-content").hover(function(){var t=$(this);t.css({opacity:1}),e.find(".grid-item .item-content").not(t).css({opacity:.3})},function(){var e=$(this);e.css({opacity:.3})}),e.hover(function(){},function(){setTimeout(function(){e.find(".grid-item .item-content").css({opacity:1})},200)})})}function set_height_of_parent_content_wrappers(){var e=$("#main-content .max-height");e.each(function(){var e=$(this).parents(".content-wrapper");if(e.length>0){e.parents(".section-wrapper").addClass("modified-height");var t=$(this).attr("data-height-percent");void 0===t||""==t||isNaN(t)?e.css({height:"80%"}):e.css({height:t+"%"})}})}function set_equal_height_to_all_carousel_slides_on_small_displays(){var e=$("#main-content .carousel");e.each(function(){var e=void 0===$(this).attr("data-height-percent")||""==$(this).attr("data-height-percent")||isNaN($(this).attr("data-height-percent"))?80:$(this).attr("data-height-percent"),t=e/100*viewport().height,i=$(this).find(".item .carousel-text-content");$(this).find(".item:not(.active)").css({opacity:"0",position:"absolute",display:"block"}),i.css({height:"auto"});var a=[];i.each(function(){a.push($(this).height())});var n=Math.max.apply(Math,a)+40;$(this).find(".item:not(.active)").attr("style",""),viewport().width<=window.sm_screen_max||n>=t?($(this).parents(".section-wrapper").addClass("modified-height"),i.height(n)):($(this).parents(".section-wrapper").removeClass("modified-height"),$(this).removeClass("slides-height-modified").find(".item .carousel-text-content").css({height:"100%"}))})}function populate_and_open_modal(e,t,i,a){var n=$("#common-modal.modal"),s=n.find(".modal-body"),o=$("#"+t),r="";if(void 0!==a&&""!=a&&(r=a),s.length>0&&o.length>0){$("#outer-container").fadeTo("fast",.2);var c=($(document).scrollTop(),o.html());s.empty().html(c),n.modal(),""!=r&&n.addClass(r),n.on("shown.bs.modal",function(){if(position_modal_at_centre(),void 0!==i&&""!=i&&$("#common-modal.modal").find(i).length>0){var e=$("#common-modal.modal").find(i).offset().top;$("#common-modal.modal").stop().animate({scrollTop:e},800,"easeInOutCubic")}}),n.on("hide.bs.modal",function(){$("#outer-container").fadeTo("fast",1)}),n.on("hidden.bs.modal",function(){s.empty(),""!=r&&n.removeClass(r)})}return e.preventDefault?e.preventDefault():e.returnValue=!1,!1}function position_modal_at_centre(){var e=$(".modal");if(e.length>0&&e.is(":visible")){var t=e.find(".modal-dialog"),i=(t.width(),t.height()),a=i+70<viewport().height?!0:!1;if(viewport().width>window.sm_screen_max&&1==a){var n=(viewport().height-i)/2;t.css({"margin-top":n+"px","margin-bottom":"20px"})}else t.removeAttr("style")}}function go_to_top_visibility(){var e=$("#go-to-top");if(e.length>0){var t=$(document).scrollTop();t<viewport().height?e.removeClass("active"):e.addClass("active")}}function scroll_to_top(){$("html, body").stop().animate({scrollTop:0},1500,"easeInOutCubic",function(){$("#go-to-top").removeClass("active")})}function load_images(e,t,a){var n=$("."+e);if(n.length>0){var s=new Array;n.each(function(){var e=$(this).attr("data-img-src");if(void 0!==e&&""!=e){var t=new Array;t.img_object=$(this),t.img_src=e,s.push(t)}});var o=s.length;for(i=0;o>i;i++){var r=new Image;r.src=s[i].img_src,s[i].img_object.attr("src",s[i].img_src),1==t&&s[i].img_object.removeClass(e),1==a&&i==o-1&&(!jQuery.browser.mobile||viewport().width>window.xs_screen_max)&&(r.onload=function(){sections_content_vertical_position()})}}}function validate_and_submit_forms(e){var t=void 0!==e&&e.length>0?e:$("form.validate-form");t.each(function(){var e=$(this);e.find(".validate-field").each(function(){$(this).change(function(){if($(this).siblings(".alert").fadeOut("fast",function(){$(this).remove()}),""!=$(this).val().trim()){var t=validate_fields(e,$(this));if(t.length>0&&void 0!==t[0].message&&""!=t[0].message&&"success"!=t[0].message){var i='<div class="alert">'+t[0].message+"</div>";$(this).after(i),$(this).siblings(".alert").fadeIn("fast")}}})}),e.find("#form-captcha-refresh").click(function(){e.find("#form-captcha-img").replaceWith('<img id="form-captcha-img" src="assets/php/form_captcha/captcha_img.php">'),e.find("#form-captcha").val("")}),e.submit(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,$(this).find(".form-loader").fadeIn("fast");var i=$(this).attr("action");if(void 0===i&&""==i)return!1;$(this).find(".alert").fadeOut("fast",function(){$(this).remove()}),$(this).find(".form-general-error-container").fadeOut("fast",function(){$(this).empty()});var a=!1;return $(this).find(".validate-field").each(function(){var t=validate_fields(e,$(this));if(t.length>0&&void 0!==t[0].message&&""!=t[0].message&&"success"!=t[0].message){var i='<div class="alert">'+t[0].message+"</div>";$(this).after(i),$(this).siblings(".alert").fadeIn("fast"),a=!0}}),1==a?($(this).find(".form-loader").fadeOut("fast"),!1):($.ajax({type:"POST",url:i,data:$(this).serialize(),dataType:"html",success:function(t){e.find(".form-loader").fadeOut("fast");var i="success"==t?!0:!1,a="captcha"==t?!1:!0,n="";switch(t){case"success":n="Form submitted successfully.";break;case"captcha":n="Incorrect text entered. (Case-sensitive)";break;case"incomplete":n="Please fill in all required fields.";break;case"error":n="An error occured. Please try again later."}var s='<div class="alert ';s+=1==i?"success":"error",s+='">'+n+"</div>",a?e.find(".form-general-error-container").html(s).fadeIn("fast",function(){$(this).delay(1e4).fadeOut("fast",function(){$(this).html("")})}):(e.find("#form-captcha").parent(".form-group").append(s),e.find("#form-captcha").siblings(".alert").fadeIn("fast")),e.find("#form-captcha-img").replaceWith('<img id="form-captcha-img" src="assets/php/form_captcha/captcha_img.php">'),e.find("#form-captcha").val(""),1==i&&e.find(".form-control").val("")},error:function(){e.find(".form-loader").fadeOut("fast");var t='<div class="alert">An error occured. Please try again later.</div>';e.find(".form-general-error-container").html(t).fadeIn("fast")}}),void 0)})})}function validate_fields(e,t){if(void 0!==e&&e.length>0){var i=void 0!==t&&t.length>0?t:e.find(".validate"),a=new Array;return i.each(function(){var e=$(this).attr("data-validation-type"),t=$(this).hasClass("required"),i=$(this).val().trim(),n=new Array;n.field_object=$(this),n.message="success",1!=t||""!=i&&null!==i&&void 0!==i||(n.message="This field is required"),"string"==e&&""!=i&&null!==i&&void 0!==i?null==i.match(/^[a-z0-9 .\-]+$/i)&&(n.message="Invalid characters found."):"email"==e&&""!=i&&null!==i&&void 0!==i?null==i.match(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)&&(n.message="Please enter a valid email address."):"phone"==e&&""!=i&&null!==i&&void 0!==i&&null==i.match(/^\(?\+?[\d\(\-\s\)]+$/)&&(n.message="Invalid characters found."),a.push(n)}),a}}function fixed_bg_image_dimensions_on_mobile(){var e=$("#outer-background-container");if(e.length>0){var t=e.attr("data-default-background-img");if(void 0!==t&&""!=t)if(jQuery.browser.mobile)$("body").css({"background-image":"","background-position":"","background-repeat":"","background-size":"","background-attachment":"",background:"#000"}),e.css({opacity:"1"});else{var i=viewport().height+.1*viewport().height,a=(viewport().width+.1*viewport().width,new Image);a.src=t,$("body").css({"background-image":"url("+t+")","background-position":"top center","background-repeat":"no-repeat","background-attachment":"fixed","background-size":"auto "+i+"px, cover"}),e.css({opacity:"0"})}}}function contact_form_IE9_placeholder_fix(){var e=$("form");e.each(function(){$(this);$(this).find(".form-control").each(function(){var e=$(this).attr("placeholder");void 0!==e&&""!=e&&($(this).val(e),$(this).focus(function(){$(this).val()==e&&$(this).val("")}),$(this).blur(function(){""==$(this).val()&&$(this).val(e)}))})})}window.xs_screen_max=768,window.sm_screen_max=992;